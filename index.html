<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Primary Meta Tags -->
  <title>Tech_Gen - AI-Powered Productivity Tools</title>
  <meta name="description" content="Tech_Gen offers powerful AI tools for image generation, document translation, and text summarization. Boost your workflow with our easy-to-use SaaS platform.">
  <meta name="keywords" content="AI tools, image generator, document translator, text summarizer, productivity tools, SaaS platform">
  
  <!-- Google / Search Engine Verification -->
  <meta name="google-site-verification" content="X9MYWN4vvkmGDu1DhXPVmi-Sm4a4dsnbKbIrT4WfImQ" />
  
  <!-- Microsoft Verification -->
  <meta name="msvalidate.01" content="0411FDFD8C7EE90CFC8093F8B0BA1ACF" />
  
  <!-- Google Adsense -->
  <meta name="google-adsense-account" content="ca-pub-1893797822419017">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.techgentools.site/">
  <meta property="og:title" content="Tech_Gen - AI-Powered Productivity Tools">
  <meta property="og:description" content="Generate images, translate documents, and summarize text with Tech_Gen's AI-powered tools. Perfect for professionals, students, and content creators.">
  <meta property="og:image" content="https://www.techgentools.site/images/og-image.jpg">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://www.techgentools.site/">
  <meta name="twitter:title" content="Tech_Gen - AI-Powered Productivity Tools">
  <meta name="twitter:description" content="Generate images, translate documents, and summarize text with Tech_Gen's AI-powered tools. Perfect for professionals, students, and content creators.">
  <meta name="twitter:image" content="https://www.techgentools.site/images/og-image.jpg">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://www.techgentools.site/" />
  
  <!-- Schema.org markup for Google -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Tech_Gen",
    "url": "https://www.techgentools.site/",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://www.techgentools.site/search?q={search_term_string}",
      "query-input": "required name=search_term_string"
    },
    "description": "AI-powered SaaS platform offering image generation, document translation, and text summarization tools to boost productivity."
  }
  </script>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.4.0/mammoth.browser.min.js"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
  <style>
    .page { display: none; }
    .page.active { display: block; }
    .auth-pages-container.active-auth {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .gradient-bg {
      background: linear-gradient(135deg, #1B2EFD 0%, #00C5FF 100%);
    }
    .hover-glow:hover {
      filter: drop-shadow(0 0 6px rgba(0, 255, 209, 0.7));
    }
    .loading {
      display: inline-block;
      width: 16px;
      height: 16px;
      border: 2px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: #00C5FF;
      animation: spin 1s ease-in-out infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    .file-upload {
      position: relative;
      overflow: hidden;
      display: inline-block;
    }
    .file-upload-input {
      position: absolute;
      left: 0;
      top: 0;
      opacity: 0;
      width: 100%;
      height: 100%;
      cursor: pointer;
    }
    .tab-button {
      transition: all 0.3s ease;
    }
    .tab-button.active {
      background: linear-gradient(135deg, #1B2EFD 0%, #00C5FF 100%);
      color: white;
    }
    .alert-message {
      position: fixed;
      top: 1rem;
      right: 1rem;
      padding: 0.75rem 1.5rem;
      border-radius: 0.375rem;
      color: white;
      z-index: 1050; 
      transition: opacity 0.3s ease;
      max-width: 90%;
    }
    .alert-error { background-color: #EF4444; }
    .alert-success { background-color: #10B981; }
    .alert-info { background-color: #3B82F6; }
    .pricing-card ul { list-style: none; padding: 0; }
    .pricing-card ul li { display: flex; align-items: center; margin-bottom: 0.5rem; }
    .pricing-card ul li svg { margin-right: 0.5rem; color: #10B981; } 
    .adsense-placeholder {
        background-color: #f0f0f0;
        border: 1px dashed #ccc;
        text-align: center;
        padding: 20px;
        margin: 15px auto;
        font-size: 0.9em;
        color: #777;
        min-height: 90px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    #authButtonsContainer button, #userInfoContainer button {
        margin-left: 0.5rem;
    }
    #userInfoContainer {
        display: flex;
        align-items: center;
    }
    .hidden {
        display: none !important;
    }
    .progress-bar {
        background-color: #e9ecef;
        border-radius: 0.375rem;
        overflow: hidden;
        height: 1.25rem;
    }
    .progress-bar-inner {
        background: linear-gradient(90deg, #1B2EFD, #00C5FF);
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 0.75rem;
        font-weight: 600;
        transition: width 0.5s ease-in-out;
    }
  </style>
</head>
<body class="bg-gray-50">
  <!-- Navigation Bar -->
  <nav class="bg-gray-800 text-white p-4 sticky top-0 z-50">
    <div class="container mx-auto flex justify-between items-center">
      <div class="flex items-center cursor-pointer" onclick="showPage('home')">
        <svg class="h-8 w-auto mr-2 text-sky-400" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <title>Tech_Gen Logo Icon</title>
            <path d="M24 5C16.8203 5 11 10.8203 11 18C11 25.1797 16.8203 31 24 31" stroke="currentColor" stroke-width="3.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M21 9C15.4772 9 11 13.4772 11 19C11 24.5228 15.4772 29 21 29" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M21 9C25.2727 9 29.0001 12.134 29.0001 16C29.0001 16.9265 28.8437 17.8116 28.5582 18.635L21 18.635L21 9Z" fill="currentColor"/>
        </svg>
        <span class="text-xl font-bold text-white">Tech_Gen</span>
      </div>
      <div class="flex items-center space-x-6">
        <ul class="flex space-x-4">
          <li><button onclick="showPage('home')" class="hover:text-sky-300">Home</button></li>
          <li class="relative group">
            <button class="hover:text-sky-300 flex items-center">
              Features
              <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </button>
            <div class="absolute left-0 mt-2 w-64 bg-white rounded-md shadow-lg py-2 z-20 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300">
              <button onclick="showPage('ai-generator')" class="block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100">AI Image Generator</button>
              <button onclick="showPage('translate')" class="block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100">Translate Documents</button>
              <button onclick="showPage('summarization')" class="block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100">Text Summarization</button>
            </div>
          </li>
          <li><button onclick="showPage('blog')" class="hover:text-sky-300">Blog</button></li>
          <li><button onclick="showPage('pricing')" class="hover:text-sky-300">Pricing</button></li>
          <li><button onclick="showPage('contact')" class="hover:text-sky-300">Contact</button></li>
        </ul>
        <div id="authContainer" class="flex items-center">
            <div id="authButtonsContainer" class="flex space-x-2">
              <button onclick="showPage('login')" class="px-4 py-2 rounded-md hover:bg-gray-700 transition">Login</button>
              <button onclick="showPage('register')" class="bg-sky-600 px-4 py-2 rounded-md hover:bg-sky-700 transition">Register</button>
            </div>
            <!-- Container for LOGGED IN state -->
            <div id="userInfoContainer" class="hidden relative group"> 
                <button class="bg-gray-600 px-4 py-2 rounded-md hover:bg-gray-700 transition flex items-center text-sm">
                    My Account
                    <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </button>
                <div class="absolute right-0 mt-2 w-60 bg-white rounded-md shadow-lg py-1 z-20 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300">
                    <div class="px-4 py-3 border-b">
                        <p class="text-sm text-gray-800 font-semibold" id="userEmailDisplay">User Name (Plan)</p>
                    </div>
                    <button onclick="showPage('accountPage')" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Account Dashboard</button>
                    <button onclick="handleLogout()" id="logoutButton" class="block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-100">Logout</button>
                </div>
            </div>
        </div>
      </div>
    </div>
  </nav>

  <main>
    <!-- Home Page -->
    <!-- *** FIX 1: Added 'active' class to prevent blank screen on load *** -->
    <div id="home" class="page active">
      <section class="bg-gray-900 text-white py-20">
        <div class="container mx-auto text-center px-4">
          <h2 class="text-4xl font-bold mb-4">Transform Your Workflow with AI</h2>
          <p class="text-lg mb-6 max-w-2xl mx-auto text-gray-300">Our AI-powered SaaS platform helps businesses streamline operations and boost productivity with tools for image generation, document translation, and text summarization.</p>
          </div>
      </section>
      <section class="py-16 container mx-auto px-4">
        <h3 class="text-3xl font-bold text-center mb-12">Powerful Features</h3>
        <div class="adsense-placeholder">Home Page - Ad Unit Placeholder (e.g., 728x90 Leaderboard)</div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div class="p-6 bg-white rounded-lg shadow-md">
            <h4 class="text-xl font-semibold mb-2">AI Image Generator</h4>
            <p class="mb-4">Create stunning, unique visuals from text prompts instantly with our advanced AI image generator. Perfect for artists, marketers, and content creators.</p>
            <button onclick="showPage('ai-generator')" class="text-sky-600 font-medium hover:underline">Try it now →</button>
          </div>
          <div class="p-6 bg-white rounded-lg shadow-md">
            <h4 class="text-xl font-semibold mb-2">Translate Documents</h4>
            <p class="mb-4">Effortlessly translate text and entire documents into multiple languages with high accuracy. Break down language barriers for global communication.</p>
            <button onclick="showPage('translate')" class="text-sky-600 font-medium hover:underline">Try it now →</button>
          </div>
          <div class="p-6 bg-white rounded-lg shadow-md">
            <h4 class="text-xl font-semibold mb-2">Text Summarization</h4>
            <p class="mb-4">Get concise and coherent summaries of long articles, reports, or documents in seconds. Save time and quickly grasp key information.</p>
            <button onclick="showPage('summarization')" class="text-sky-600 font-medium hover:underline">Try it now →</button>
          </div>
        </div>
        <div class="adsense-placeholder">Home Page - Ad Unit Placeholder (e.g., 300x250 Medium Rectangle)</div>
      </section>
      <section class="bg-gray-100 py-16">
        <div class="container mx-auto px-4 text-center">
            <h3 class="text-3xl font-bold text-gray-800 mb-6">Why Choose Tech_Gen?</h3>
            <p class="text-lg text-gray-600 max-w-3xl mx-auto mb-8">
                Tech_Gen provides cutting-edge artificial intelligence tools designed to be intuitive, powerful, and accessible.
                We leverage state-of-the-art models to deliver high-quality results, helping you save time, enhance creativity, and
                improve your workflows. Our platform is continuously evolving with new features and improvements.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="p-6">
                    <div class="text-sky-600 mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>
                    </div>
                    <h4 class="text-xl font-semibold text-gray-800 mb-2">User-Friendly Interface</h4>
                    <p class="text-gray-600">Easy-to-use tools that don't require technical expertise.</p>
                </div>
                <div class="p-6">
                     <div class="text-sky-600 mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                    </div>
                    <h4 class="text-xl font-semibold text-gray-800 mb-2">Fast & Accurate</h4>
                    <p class="text-gray-600">Get high-quality AI-powered results in seconds.</p>
                </div>
                <div class="p-6">
                    <div class="text-sky-600 mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                    </div>
                    <h4 class="text-xl font-semibold text-gray-800 mb-2">Time Saving</h4>
                    <p class="text-gray-600">Automate tasks and boost your overall productivity.</p>
                </div>
            </div>
        </div>
      </section>
    </div>
    
    <!-- Account Page -->
    <div id="accountPage" class="page">
        <header class="gradient-bg text-white py-8">
            <div class="container mx-auto px-4 text-center">
              <h1 class="text-3xl font-bold">My Account</h1>
              <p class="mt-2 text-gray-200">View your subscription plan and usage details.</p>
            </div>
        </header>
        <div class="container mx-auto px-4 py-16 max-w-3xl">
            <div class="bg-white p-8 rounded-lg shadow-md space-y-8">
                <!-- Account Details Section -->
                <div>
                    <h2 class="text-2xl font-semibold text-gray-800 border-b pb-2 mb-4">Account Details</h2>
                    <div class="space-y-2 text-gray-700">
                        <p><strong>Name:</strong> <span id="accountName"></span></p>
                        <p><strong>Email:</strong> <span id="accountEmail"></span></p>
                    </div>
                </div>

                <!-- Subscription Plan Section -->
                <div>
                    <h2 class="text-2xl font-semibold text-gray-800 border-b pb-2 mb-4">Subscription Plan</h2>
                    <div class="flex items-center space-x-4">
                        <p class="text-lg font-medium text-sky-800 bg-sky-100 px-4 py-1 rounded-full" id="accountPlan"></p>
                    </div>
                </div>

                <!-- Usage Details Section -->
                <div>
                    <h2 class="text-2xl font-semibold text-gray-800 border-b pb-2 mb-4">Session Usage</h2>
                    <div id="accountUsageDetails" class="space-y-4">
                        <!-- Content will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Actions Section -->
                <div id="accountActions" class="border-t pt-6 flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4">
                    <button id="upgradePlanBtn" onclick="showPage('pricing')" class="w-full sm:w-auto bg-green-600 text-white py-2 px-6 rounded-md hover:bg-green-700 transition font-semibold">
                        Upgrade Plan
                    </button>
                    <button onclick="handleLogout()" class="w-full sm:w-auto bg-red-600 text-white py-2 px-6 rounded-md hover:bg-red-700 transition font-semibold">
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Container for auth pages -->
    <div id="auth-pages-wrapper">
        <div id="login" class="page">
            <div class="container mx-auto px-4 py-8 max-w-md">
                <div class="bg-white rounded-lg shadow-md overflow-hidden">
                    <div class="gradient-bg py-4 px-6"><h2 class="text-2xl font-bold text-white">Welcome Back</h2></div>
                    <form id="loginForm" class="p-6 space-y-4">
                        <div id="loginError" class="hidden text-red-600 text-sm bg-red-100 p-2 rounded"></div>
                        <div>
                            <label for="loginEmail" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            <input type="email" id="loginEmail" name="email" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-sky-500 focus:border-sky-500" required>
                        </div>
                        <div>
                            <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                            <input type="password" id="loginPassword" name="password" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-sky-500 focus:border-sky-500" required>
                        </div>
                        <div class="text-right"><button type="button" onclick="showPage('forgotPassword')" class="text-sm text-sky-600 hover:underline">Forgot password?</button></div>
<button type="submit" class="w-full bg-sky-600 text-white py-2 px-4 rounded-md hover:bg-sky-700 transition focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2">Sign In</button>
                    </form>
                    <div class="px-6 py-4 bg-gray-50 text-center"><button type="button" onclick="showPage('register')" class="text-sky-600 font-medium hover:underline focus:outline-none">Create an account</button></div>
                </div>
            </div>
        </div>
        <div id="register" class="page">
            <div class="container mx-auto px-4 py-8 max-w-md">
                <div class="bg-white rounded-lg shadow-md overflow-hidden">
                    <div class="gradient-bg py-4 px-6"><h2 class="text-2xl font-bold text-white">Create Account</h2></div>
                    <form id="registerForm" class="p-6 space-y-4">
                        <div id="registerError" class="hidden text-red-600 text-sm bg-red-100 p-2 rounded"></div>
                        <div>
                            <label for="registerFullName" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                            <input type="text" id="registerFullName" name="fullName" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-sky-500 focus:border-sky-500" required>
                        </div>
                        <div>
                            <label for="registerEmail" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            <input type="email" id="registerEmail" name="email" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-sky-500 focus:border-sky-500" required>
                        </div>
                        <div>
                            <label for="registerPassword" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                            <input type="password" id="registerPassword" name="password" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-sky-500 focus:border-sky-500" required minlength="6">
                            <p class="text-xs text-gray-500 mt-1">Minimum 6 characters.</p>
                        </div>
                        <button type="submit" class="w-full bg-sky-600 text-white py-2 px-4 rounded-md hover:bg-sky-700 transition focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2">Sign Up</button>
                    </form>
                    <div class="px-6 py-4 bg-gray-50 text-center"><button type="button" onclick="showPage('login')" class="text-sky-600 font-medium hover:underline focus:outline-none">Already have an account? Sign in</button></div>
                </div>
            </div>
        </div>
        <div id="forgotPassword" class="page">
            <div class="container mx-auto px-4 py-8 max-w-md">
                <div class="bg-white rounded-lg shadow-md overflow-hidden">
                    <div class="gradient-bg py-4 px-6"><h2 class="text-2xl font-bold text-white">Reset Password</h2></div>
                    <form id="forgotPasswordForm" class="p-6 space-y-4">
                        <div id="forgotPasswordError" class="hidden text-red-600 text-sm bg-red-100 p-2 rounded"></div>
                        <div id="forgotPasswordSuccess" class="hidden text-green-600 bg-green-100 p-2 rounded mb-4">If an account exists for this email, a password reset link has been sent.</div>
                        <div>
                            <label for="forgotPasswordEmail" class="block text-sm font-medium text-gray-700 mb-1">Enter your account email</label>
                            <input type="email" id="forgotPasswordEmail" name="email" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-sky-500 focus:border-sky-500" required>
                        </div>
                        <button type="submit" class="w-full bg-sky-600 text-white py-2 px-4 rounded-md hover:bg-sky-700 transition focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2">Send Reset Link</button>
                    </form>
                    <div class="px-6 py-4 bg-gray-50 text-center"><button type="button" onclick="showPage('login')" class="text-sky-600 font-medium hover:underline focus:outline-none">Back to Sign In</button></div>
                </div>
            </div>
        </div>
        <div id="resetPassword" class="page">
            <div class="container mx-auto px-4 py-8 max-w-md">
                <div class="bg-white rounded-lg shadow-md overflow-hidden">
                    <div class="gradient-bg py-4 px-6"><h2 class="text-2xl font-bold text-white">Set New Password</h2></div>
                    <form id="resetPasswordForm" class="p-6 space-y-4">
                        <div id="resetPasswordError" class="hidden text-red-600 text-sm bg-red-100 p-2 rounded"></div>
                        <div id="resetPasswordSuccess" class="hidden text-green-600 bg-green-100 p-2 rounded mb-4">Your password has been updated successfully.</div>
                        <div>
                            <label for="resetNewPassword" class="block text-sm font-medium text-gray-700 mb-1">New Password</label>
                            <input type="password" id="resetNewPassword" name="newPassword" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-sky-500 focus:border-sky-500" required minlength="6">
                            <p class="text-xs text-gray-500 mt-1">Minimum 6 characters.</p>
                        </div>
                         <button type="submit" class="w-full bg-sky-600 text-white py-2 px-4 rounded-md hover:bg-sky-700 transition focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2">Update Password</button>
                    </form>
                    <div class="px-6 py-4 bg-gray-50 text-center"><button type="button" onclick="showPage('login')" class="text-sky-600 font-medium hover:underline focus:outline-none">Back to Sign In</button></div>
                </div>
            </div>
        </div>
        <div id="paymentPage" class="page">
          <div class="container mx-auto px-4 py-8 max-w-md">
            <div class="bg-white rounded-lg shadow-md overflow-hidden">
              <div class="gradient-bg py-4 px-6"><h2 class="text-2xl font-bold text-white">Complete Your Purchase</h2></div>
              <form id="paymentForm" class="p-6 space-y-6">
                <p class="text-gray-700">You are purchasing: <strong id="paymentPlanName" class="text-gray-900">Premium Plan</strong></p>
                <p class="text-gray-700">Price: <strong id="paymentPlanPrice" class="text-gray-900">₹1</strong></p>
                <div>
                  <label for="cardNameInput" class="block text-sm font-medium text-gray-700 mb-1">Name</label>
                  <input type="text" id="cardNameInput" name="cardName" class="w-full px-4 py-2 border border-gray-300 rounded-md" required>
                </div>
                <div>
                  <label for="emailInput" class="block text-sm font-medium text-gray-700 mb-1">Email ID</label>
                  <input type="email" id="emailInput" name="email" placeholder="your.email@example.com" class="w-full px-4 py-2 border border-gray-300 rounded-md" required>
                </div>
                <div>
                    <label for="usertypeInput" class="block text-sm font-medium text-gray-700 mb-1">User Type (Optional)</label>
                    <input type="text" id="usertypeInput" name="usertype" placeholder="e.g., Individual, Business" class="w-full px-4 py-2 border border-gray-300 rounded-md">
                </div>
                <button type="submit" class="w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition">Proceed to Pay with Razorpay</button>
              </form>
              <div class="px-6 py-4 bg-gray-50 text-center"><button onclick="showPage('pricing')" class="text-sky-600 font-medium hover:underline">Cancel</button></div>
            </div>
          </div>
        </div>
    </div>
    
    <!-- AI Tool Pages -->
    <div id="ai-generator" class="page">
      <header class="gradient-bg text-white py-8">
        <div class="container mx-auto px-4 text-center">
          <h1 class="text-3xl font-bold">AI Image Generator</h1>
          <p class="mt-2 text-gray-200">Transform your ideas into stunning visuals with Tech_Gen</p>
        </div>
      </header>
       <div class="adsense-placeholder">AI Image Gen - Ad Unit Placeholder (e.g., Responsive)</div>
        <section class="mb-8 container mx-auto px-4 py-8"> 
          <h2 class="text-2xl font-semibold text-gray-800 mb-4 text-center">Try the Generator</h2>
          <div class="bg-gray-800 p-4 rounded-lg border border-gray-700 max-w-3xl mx-auto">
            <p class="text-gray-300 mb-3 text-sm">Describe the image you want to create.</p>
            <div class="flex flex-col sm:flex-row gap-2">
              <input type="text" id="imagePrompt" placeholder="e.g., 'A majestic lion in a surreal landscape, digital art'" 
                     class="flex-1 p-2 text-sm bg-gray-900 border border-gray-600 rounded focus:ring-2 focus:ring-sky-500 text-white">
              <button id="generateImageBtn" class="bg-sky-500 text-gray-900 text-sm font-medium px-4 py-2 rounded hover-glow flex items-center justify-center min-w-[120px]">
                <span id="generateBtnText">Generate</span>
                <span id="generateSpinner" class="loading hidden ml-2"></span>
              </button>
            </div>
            <div class="mt-3 grid grid-cols-1 sm:grid-cols-2 gap-2">
              <div>
                <label class="block text-gray-300 text-xs mb-1">Aspect Ratio</label>
                <select id="monsterAspectRatio" class="w-full text-sm bg-gray-900 border border-gray-600 rounded focus:ring-2 focus:ring-sky-500 text-white p-1">
                  <option value="square" selected>Square (1:1)</option>
                  <option value="portrait">Portrait (2:3)</option>
                  <option value="landscape">Landscape (3:2)</option>
                </select>
              </div>
              <div>
                <label class="block text-gray-300 text-xs mb-1">Style (Optional)</label>
                 <select id="monsterImageStyle" class="w-full text-sm bg-gray-900 border border-gray-600 rounded focus:ring-2 focus:ring-sky-500 text-white p-1">
                    <option value="">None</option><option value="photorealistic">Photorealistic</option><option value="digital-art">Digital Art</option><option value="anime">Anime</option><option value="pixel-art">Pixel Art</option><option value="comic-book">Comic Book</option><option value="fantasy-art">Fantasy Art</option><option value="isometric">Isometric</option><option value="line-art">Line Art</option><option value="origami">Origami</option>
                </select>
              </div>
            </div>
            <div class="mt-4 text-center">
              <div id="imagePlaceholder" class="bg-gray-900 border border-gray-700 rounded flex items-center justify-center h-64">
                <p id="imagePlaceholderText" class="text-gray-400 text-sm">Image will appear here</p>
              </div>
              <div id="imageResultContainer" class="hidden">
                <img id="generatedImage" src="" alt="Generated image" class="rounded mx-auto border border-gray-700 max-w-full h-64 object-contain">
                <button id="downloadImageBtn" class="mt-2 bg-green-500 text-white text-sm font-medium px-4 py-2 rounded hover-glow">Download Image</button>
              </div>
            </div>
          </div>
        </section>
    <div class="container mx-auto py-8 px-4">
        <article class="prose lg:prose-xl mx-auto mb-8 bg-white p-6 rounded-lg shadow">
            <h2>Unleash Your Creativity with AI Image Generation</h2>
            <p>Our AI Image Generator, powered by advanced models via Monster API, allows you to turn simple text prompts into breathtaking visuals. Whether you're an artist looking for inspiration, a marketer needing unique ad creatives, or just curious about the power of AI, this tool is for you.</p>
            <p><strong>How it works:</strong> Simply type a description of the image you envision. Be as detailed or as abstract as you like. Choose your preferred aspect ratio and an optional style to guide the AI. Our system will then process your request and generate a unique image based on your input. Explore different prompts and styles to discover endless possibilities!</p>
          </article>
       </div>
    </div>
    <div id="translate" class="page">
      <header class="gradient-bg text-white py-8">
        <div class="container mx-auto px-4 text-center">
          <h1 class="text-3xl font-bold">AI Document & Text Translator</h1>
          <p class="mt-2 text-gray-200">Translate text and documents with high accuracy using AI</p>
        </div>
      </header>
        <div class="adsense-placeholder">Translate Page - Ad Unit Placeholder</div>
        <div class="max-w-3xl mx-auto container px-4 py-8">
            <div class="flex mb-6 bg-gray-800 rounded-lg p-1">
              <button id="textTabBtn" class="tab-button flex-1 py-2 px-4 rounded-lg font-medium text-white active">Text Translation</button>
              <button id="docTabBtn" class="tab-button flex-1 py-2 px-4 rounded-lg font-medium text-gray-300">Document Translation</button>
            </div>
            <section id="textTranslationSection" class="mb-8">
              <div class="bg-gray-800 p-4 rounded-lg border border-gray-700">
                <div class="mb-4">
                  <label class="block text-gray-300 text-sm mb-1">Text to translate</label>
                  <textarea id="translatePageTextInput" class="w-full p-2 text-sm bg-gray-900 border border-gray-600 rounded focus:ring-2 focus:ring-sky-500 text-white h-32" placeholder="Enter your text here..."></textarea>
                </div>
                <div class="flex flex-wrap gap-2 mb-4">
                  <select id="targetLanguage" class="text-sm bg-gray-900 border border-gray-600 rounded focus:ring-2 focus:ring-sky-500 text-white p-2 flex-1">
                    <option value="af">Afrikaans</option><option value="sq">Albanian</option><option value="am">Amharic</option><option value="ar">Arabic</option><option value="hy">Armenian</option><option value="az">Azerbaijani</option><option value="eu">Basque</option><option value="be">Belarusian</option><option value="bn">Bengali</option><option value="bs">Bosnian</option><option value="bg">Bulgarian</option><option value="ca">Catalan</option><option value="ceb">Cebuano</option><option value="ny">Chichewa</option><option value="zh-CN">Chinese (Simplified)</option><option value="zh-TW">Chinese (Traditional)</option><option value="co">Corsican</option><option value="hr">Croatian</option><option value="cs">Czech</option><option value="da">Danish</option><option value="nl">Dutch</option><option value="en" selected>English</option><option value="eo">Esperanto</option><option value="et">Estonian</option><option value="tl">Filipino (Tagalog)</option><option value="fi">Finnish</option><option value="fr">French</option><option value="fy">Frisian</option><option value="gl">Galician</option><option value="ka">Georgian</option><option value="de">German</option><option value="el">Greek</option><option value="gu">Gujarati</option><option value="ht">Haitian Creole</option><option value="ha">Hausa</option><option value="haw">Hawaiian</option><option value="he">Hebrew</option><option value="hi">Hindi</option><option value="hu">Hungarian</option><option value="is">Icelandic</option><option value="ig">Igbo</option><option value="id">Indonesian</option><option value="ga">Irish</option><option value="it">Italian</option><option value="ja">Japanese</option><option value="jw">Javanese</option><option value="kn">Kannada</option><option value="kk">Kazakh</option><option value="km">Khmer</option><option value="ko">Korean</option><option value="ku">Kurdish (Kurmanji)</option><option value="ky">Kyrgyz</option><option value="lo">Lao</option><option value="la">Latin</option><option value="lv">Latvian</option><option value="lt">Lithuanian</option><option value="lb">Luxembourgish</option><option value="mk">Macedonian</option><option value="mg">Malagasy</option><option value="ms">Malay</option><option value="ml">Malayalam</option><option value="mt">Maltese</option><option value="mi">Maori</option><option value="mr">Marathi</option><option value="mn">Mongolian</option><option value="my">Myanmar (Burmese)</option><option value="ne">Nepali</option><option value="no">Norwegian</option><option value="ps">Pashto</option><option value="fa">Persian</option><option value="pl">Polish</option><option value="pt">Portuguese</option><option value="pa">Punjabi</option><option value="ro">Romanian</option><option value="ru">Russian</option><option value="sm">Samoan</option><option value="gd">Scots Gaelic</option><option value="sr">Serbian</option><option value="st">Sesotho</option><option value="sn">Shona</option><option value="sd">Sindhi</option><option value="si">Sinhala</option><option value="sk">Slovak</option><option value="sl">Slovenian</option><option value="so">Somali</option><option value="es">Spanish</option><option value="su">Sundanese</option><option value="sw">Swahili</option><option value="sv">Swedish</option><option value="tg">Tajik</option><option value="ta">Tamil</option><option value="tt">Tatar</option><option value="te">Telugu</option><option value="th">Thai</option><option value="tr">Turkish</option><option value="tk">Turkmen</option><option value="uk">Ukrainian</option><option value="ur">Urdu</option><option value="ug">Uyghur</option><option value="uz">Uzbek</option><option value="vi">Vietnamese</option><option value="cy">Welsh</option><option value="xh">Xhosa</option><option value="yi">Yiddish</option><option value="yo">Yoruba</option><option value="zu">Zulu</option>
                  </select>
                  <button id="translateTextBtn" class="bg-indigo-600 text-white text-sm font-medium px-6 py-2 rounded hover-glow flex items-center">
                    <span>Translate Text</span><span id="translateTextSpinner" class="loading hidden ml-2"></span>
                  </button>
                </div>
                <div id="textOutput" class="mt-4 p-3 bg-gray-900 rounded border border-gray-600 min-h-[128px]"><p class="text-gray-400 text-sm">Translation results will appear here...</p></div>
                <div class="flex justify-end mt-2"><button id="copyTextBtn" class="text-sky-400 text-xs hover:underline hidden">Copy to Clipboard</button></div>
              </div>
            </section>
            <section id="docTranslationSection" class="mb-8 hidden">
              <div class="bg-gray-800 p-4 rounded-lg border border-gray-700">
                <div class="mb-4">
                  <label class="block text-gray-300 text-sm mb-1">Upload document to translate</label>
                  <div class="file-upload bg-gray-900 border border-gray-600 rounded p-2 text-center">
                    <button class="bg-indigo-600 text-white text-sm font-medium px-4 py-2 rounded hover-glow">Choose File (PDF, DOCX, TXT)</button>
                    <input type="file" id="docFileInput" class="file-upload-input" accept=".pdf,.docx,.txt">
                  </div>
                  <div id="docFileNameDisplay" class="text-gray-400 text-xs mt-1"></div>
                  <div id="docFileExtractStatus" class="text-gray-400 text-xs mt-1 hidden"><span class="loading inline-block mr-2"></span>Extracting text from document...</div>
                </div>
                <div class="flex flex-wrap gap-2 mb-4">
                  <select id="docTargetLanguage" class="text-sm bg-gray-900 border border-gray-600 rounded focus:ring-2 focus:ring-sky-500 text-white p-2 flex-1">
                    <option value="af">Afrikaans</option><option value="sq">Albanian</option><option value="am">Amharic</option><option value="ar">Arabic</option><option value="hy">Armenian</option><option value="az">Azerbaijani</option><option value="eu">Basque</option><option value="be">Belarusian</option><option value="bn">Bengali</option><option value="bs">Bosnian</option><option value="bg">Bulgarian</option><option value="ca">Catalan</option><option value="ceb">Cebuano</option><option value="ny">Chichewa</option><option value="zh-CN">Chinese (Simplified)</option><option value="zh-TW">Chinese (Traditional)</option><option value="co">Corsican</option><option value="hr">Croatian</option><option value="cs">Czech</option><option value="da">Danish</option><option value="nl">Dutch</option><option value="en" selected>English</option><option value="eo">Esperanto</option><option value="et">Estonian</option><option value="tl">Filipino (Tagalog)</option><option value="fi">Finnish</option><option value="fr">French</option><option value="fy">Frisian</option><option value="gl">Galician</option><option value="ka">Georgian</option><option value="de">German</option><option value="el">Greek</option><option value="gu">Gujarati</option><option value="ht">Haitian Creole</option><option value="ha">Hausa</option><option value="haw">Hawaiian</option><option value="he">Hebrew</option><option value="hi">Hindi</option><option value="hu">Hungarian</option><option value="is">Icelandic</option><option value="ig">Igbo</option><option value="id">Indonesian</option><option value="ga">Irish</option><option value="it">Italian</option><option value="ja">Japanese</option><option value="jw">Javanese</option><option value="kn">Kannada</option><option value="kk">Kazakh</option><option value="km">Khmer</option><option value="ko">Korean</option><option value="ku">Kurdish (Kurmanji)</option><option value="ky">Kyrgyz</option><option value="lo">Lao</option><option value="la">Latin</option><option value="lv">Latvian</option><option value="lt">Lithuanian</option><option value="lb">Luxembourgish</option><option value="mk">Macedonian</option><option value="mg">Malagasy</option><option value="ms">Malay</option><option value="ml">Malayalam</option><option value="mt">Maltese</option><option value="mi">Maori</option><option value="mr">Marathi</option><option value="mn">Mongolian</option><option value="my">Myanmar (Burmese)</option><option value="ne">Nepali</option><option value="no">Norwegian</option><option value="ps">Pashto</option><option value="fa">Persian</option><option value="pl">Polish</option><option value="pt">Portuguese</option><option value="pa">Punjabi</option><option value="ro">Romanian</option><option value="ru">Russian</option><option value="sm">Samoan</option><option value="gd">Scots Gaelic</option><option value="sr">Serbian</option><option value="st">Sesotho</option><option value="sn">Shona</option><option value="sd">Sindhi</option><option value="si">Sinhala</option><option value="sk">Slovak</option><option value="sl">Slovenian</option><option value="so">Somali</option><option value="es">Spanish</option><option value="su">Sundanese</option><option value="sw">Swahili</option><option value="sv">Swedish</option><option value="tg">Tajik</option><option value="ta">Tamil</option><option value="tt">Tatar</option><option value="te">Telugu</option><option value="th">Thai</option><option value="tr">Turkish</option><option value="tk">Turkmen</option><option value="uk">Ukrainian</option><option value="ur">Urdu</option><option value="ug">Uyghur</option><option value="uz">Uzbek</option><option value="vi">Vietnamese</option><option value="cy">Welsh</option><option value="xh">Xhosa</option><option value="yi">Yiddish</option><option value="yo">Yoruba</option><option value="zu">Zulu</option>
                  </select>
                  <button id="translateDocBtn" class="bg-indigo-600 text-white text-sm font-medium px-6 py-2 rounded hover-glow flex items-center" disabled>
                    <span>Translate Document</span><span id="translateDocSpinner" class="loading hidden ml-2"></span>
                  </button>
                </div>
                <div id="docTextPreview" class="mb-4 hidden">
                  <label class="block text-gray-300 text-sm mb-1">Original Text Preview (first 500 characters)</label>
                  <div class="p-3 bg-gray-900 rounded border border-gray-600 max-h-32 overflow-y-auto text-sm text-gray-400"></div>
                </div>
                <div id="docTranslationOutput" class="mt-4 p-3 bg-gray-900 rounded border border-gray-600 min-h-[128px]" data-original-text=""><p class="text-gray-400 text-sm">Document translation results will appear here...</p></div>
                <div class="flex justify-between mt-2">
                  <button id="downloadTranslationBtn" class="text-sky-400 text-xs hover:underline hidden">Download Translation</button>
                  <button id="copyDocBtn" class="text-sky-400 text-xs hover:underline hidden">Copy to Clipboard</button>
                </div>
              </div>
            </section>
        </div>
      <div class="container mx-auto py-8 px-4">
        <article class="prose lg:prose-xl mx-auto mb-8 bg-white p-6 rounded-lg shadow">
            <h2>Break Language Barriers with AI Translation</h2>
            <p>Our AI-powered translation tool provides fast and accurate translations for both plain text and full documents. Whether you're dealing with business correspondence, academic research, or personal messages, bridge communication gaps effortlessly.</p>
            <ul><li><strong>Text Translation:</strong> Paste text directly for instant translation.</li><li><strong>Document Translation:</strong> Upload your files (PDF, DOCX, TXT) and receive a translated version while preserving the original structure as much as possible.</li><li><strong>Multiple Languages:</strong> We support a wide array of languages, constantly expanding our list.</li><li><strong>High Accuracy:</strong> Leveraging cutting-edge AI for quality translations.</li></ul>
            <p>Use our translator for business documents, academic papers, personal correspondence, or simply to understand content in a foreign language. It's fast, easy, and reliable.</p>
        </article>
      </div>
    </div>
    <div id="summarization" class="page">
        <header class="gradient-bg text-white py-8">
            <div class="container mx-auto px-4 text-center">
              <h1 class="text-3xl font-bold">AI Text Summarizer</h1>
              <p class="mt-2 text-gray-200">Condense long texts into concise summaries using AI</p>
            </div>
        </header>
            <div class="adsense-placeholder">Summarization Page - Ad Unit Placeholder</div>
            <section class="mb-8 container mx-auto px-4 py-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4 text-center">Try the Summarizer</h2>
              <div class="bg-gray-800 p-4 rounded-lg border border-gray-700 max-w-3xl mx-auto">
                <div class="mb-4">
                  <label class="block text-gray-300 text-sm mb-1">Enter text to summarize</label>
                  <textarea id="summarizeTextInput" class="w-full p-2 text-sm bg-gray-900 border border-gray-600 rounded focus:ring-2 focus:ring-sky-500 text-white h-40" placeholder="Paste your text here..."></textarea>
                </div>
                <div class="flex items-center my-4">
                  <hr class="flex-grow border-t border-gray-700"><span class="px-3 text-gray-400 text-sm">OR</span><hr class="flex-grow border-t border-gray-700">
                </div>
                <div class="mb-4">
                  <label class="block text-gray-300 text-sm mb-1">Upload document to summarize</label>
                  <div class="file-upload bg-gray-900 border border-gray-600 rounded p-2 text-center">
                    <button class="bg-indigo-600 text-white text-sm font-medium px-4 py-2 rounded hover-glow">Choose File (PDF, DOCX, TXT)</button>
                    <input type="file" id="summarizeDocInput" class="file-upload-input" accept=".pdf,.docx,.txt">
                  </div>
                  <div id="summarizeDocNameDisplay" class="text-gray-400 text-xs mt-1"></div>
                  <div id="summarizeDocExtractStatus" class="text-gray-400 text-xs mt-1 hidden"><span class="loading inline-block mr-2"></span>Extracting text from document...</div>
                </div>
                <div class="mb-4">
                  <label for="summaryLength" class="block text-gray-300 text-sm mb-1">Summary Length</label>
                  <select id="summaryLength" class="w-full sm:w-1/2 text-sm bg-gray-900 border border-gray-600 rounded focus:ring-2 focus:ring-sky-500 text-white p-2">
                    <option value="short">Short (1-2 sentences)</option><option value="medium" selected>Medium (a paragraph)</option><option value="long">Long (multiple paragraphs, detailed)</option>
                  </select>
                </div>
                <button id="summarizeTextBtn" class="bg-sky-500 text-gray-900 text-sm font-medium px-6 py-2 rounded hover-glow flex items-center justify-center w-full sm:w-auto">
                  <span id="summarizeBtnText">Summarize</span><span id="summarizeTextSpinner" class="loading hidden ml-2"></span>
                </button>
                <div id="summaryOutput" class="mt-4 p-3 bg-gray-900 rounded border border-gray-600 min-h-[128px]"><p class="text-gray-400 text-sm">Summary will appear here...</p></div>
                <div class="flex justify-end mt-2"><button id="copySummaryBtn" class="text-sky-400 text-xs hover:underline hidden">Copy Summary</button></div>
              </div>
            </section>
      <div class="container mx-auto py-8 px-4">
            <article class="prose lg:prose-xl mx-auto mb-8 bg-white p-6 rounded-lg shadow">
                <h2>Quickly Grasp Key Information with AI Summaries</h2>
                <p>Overwhelmed by lengthy articles or documents? Our AI Text Summarizer distills vast amounts of text into clear, concise summaries, helping you understand key points quickly and efficiently.</p>
                <ul><li><strong>Save Time:</strong> Read less while understanding more.</li><li><strong>Improve Comprehension:</strong> Focus on core ideas without getting lost in details.</li><li><strong>Boost Productivity:</strong> Quickly process information for research, study, or business.</li><li><strong>Versatile:</strong> Summarize news articles, blog posts, academic papers, business reports, and more.</li></ul>
                <p>Our tool uses advanced natural language processing techniques to identify key sentences and concepts, then reconstructs them into a coherent and concise summary. Try it now and experience the power of AI-driven information distillation!</p>
            </article>
          </div>
    </div>
    <div id="pricing" class="page">
        <header class="gradient-bg text-white py-8">
            <div class="container mx-auto px-4 text-center">
                <h1 class="text-3xl font-bold">Our Pricing Plans</h1>
                <p class="mt-2 text-gray-200">Choose the plan that's right for you, offering great value for powerful AI tools.</p>
            </div>
        </header>
        <div class="container mx-auto px-4 py-16">
            <div class="adsense-placeholder">Pricing Page - Ad Unit Placeholder</div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="pricing-card bg-white rounded-lg shadow-lg p-6 flex flex-col">
                    <h3 class="text-2xl font-semibold text-gray-800 mb-2">Free</h3>
                    <p class="text-4xl font-bold text-gray-900 mb-4">₹0<span class="text-lg font-normal text-gray-500">/month</span></p>
                    <p class="text-gray-600 mb-6">Perfect for individuals starting out or trying our basic features.</p>
                    <ul class="text-gray-700 mb-8 flex-grow">
                        <li><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg> 5 AI Image Generations (session limit)</li>
                        <li><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg> 10 Text/Doc Translations (session limit)</li>
                        <li><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg> 5 Text Summarizations (session limit)</li>
                        <li><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg> Community Support</li>
                         <li><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg> Guest Users: 10 total uses (session limit)</li>
                    </ul>
                </div>
                <div class="pricing-card bg-white rounded-lg shadow-lg p-6 border-4 border-sky-600 flex flex-col relative">
                    <span class="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-sky-600 text-white text-xs font-semibold px-3 py-1 rounded-full uppercase">Most Popular</span>
                    <h3 class="text-2xl font-semibold text-gray-800 mb-2 mt-4">Pro</h3>
                    <p class="text-4xl font-bold text-gray-900 mb-4" id="proPlanPriceDisplay">₹499<span class="text-lg font-normal text-gray-500">/month</span></p>
                    <p class="text-gray-600 mb-6">Ideal for professionals and small teams needing more power.</p>
                    <ul class="text-gray-700 mb-8 flex-grow">
                        <li><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg> Unlimited AI Image Generations</li>
                        <li><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg> Unlimited Text & Document Translation</li>
                        <li><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg> Unlimited Text Summarization</li>
                        <li><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg> Priority Email Support</li>
                        <li><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg> Access to new features first</li>
                    </ul>
                    <button onclick="initiatePayment('pro')" class="w-full bg-sky-600 text-white py-2 px-4 rounded-md hover:bg-sky-700 transition mt-auto">Choose Pro</button>
                </div>
                <div class="pricing-card bg-white rounded-lg shadow-lg p-6 flex flex-col">
                    <h3 class="text-2xl font-semibold text-gray-800 mb-2">Business</h3>
                     <p class="text-4xl font-bold text-gray-900 mb-4" id="businessPlanPriceDisplay">₹1499<span class="text-lg font-normal text-gray-500">/month</span></p>
                    <p class="text-gray-600 mb-6">For larger teams and businesses requiring extensive usage and support.</p>
                    <ul class="text-gray-700 mb-8 flex-grow">
                        <li><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg> Unlimited AI Image Generations</li>
                        <li><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg> Unlimited Text & Document Translation</li>
                        <li><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg> Unlimited Summarization</li>
                        <li><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg> Dedicated 24/7 Support</li>
                        <li><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg> Team Collaboration Tools (Coming Soon)</li>
                    </ul>
                    <button onclick="initiatePayment('business')" class="w-full bg-gray-800 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition mt-auto">Choose Business</button>
                </div>
            </div>
        </div>
    </div>
    <div id="contact" class="page">
      <header class="gradient-bg text-white py-8">
          <div class="container mx-auto px-4 text-center">
              <h1 class="text-3xl font-bold">Get In Touch</h1>
              <p class="mt-2 text-gray-200">We'd love to hear from you. Send us a message for inquiries, support, or feedback!</p>
          </div>
      </header>
      <div class="container mx-auto px-4 py-16 max-w-2xl">
        <div class="adsense-placeholder">Contact Page - Ad Unit Placeholder</div>
        <div class="bg-white p-8 rounded-lg shadow-md">
            <form id="contactForm" action="https://formspree.io/f/mldnezke" method="POST">
                <div class="mb-6">
                    <label for="contactName" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                    <input type="text" id="contactName" name="name" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-sky-500 focus:border-sky-500" required>
                </div>
                <div class="mb-6">
                    <label for="contactEmail" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                    <input type="email" id="contactEmail" name="_replyto" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-sky-500 focus:border-sky-500" required>
                </div>
                <div class="mb-6">
                    <label for="contactSubject" class="block text-sm font-medium text-gray-700 mb-1">Subject</label>
                    <input type="text" id="contactSubject" name="subject" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-sky-500 focus:border-sky-500" required>
                </div>
                <div class="mb-6">
                    <label for="contactMessage" class="block text-sm font-medium text-gray-700 mb-1">Message</label>
                    <textarea id="contactMessage" name="message" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-sky-500 focus:border-sky-500" required></textarea>
                </div>
                <div><button type="submit" id="contactSubmitButton" class="w-full bg-sky-600 text-white py-3 px-4 rounded-md hover:bg-sky-700 transition font-semibold flex items-center justify-center"><span>Send Message</span><span id="contactSubmitSpinner" class="loading hidden ml-2"></span></button></div>
            </form>
            <div id="formStatusMessage" class="mt-4 text-center"></div>
        </div>
      </div>
    </div>
    <!-- Blog Page -->
    <div id="blog" class="page">
        <header class="gradient-bg text-white py-8">
            <div class="container mx-auto px-4 text-center">
              <h1 class="text-3xl font-bold">Tech_Gen Blog</h1>
              <p class="mt-2 text-gray-200">Insights, tutorials, and news from the world of AI and productivity.</p>
            </div>
        </header>
      <div class="container mx-auto px-4 py-16">
        <div class="adsense-placeholder">Blog Page - Ad Unit Placeholder</div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <!-- Blog Post 1 -->
          <div class="bg-white rounded-lg shadow-lg overflow-hidden flex flex-col">
            <img src="https://images.unsplash.com/photo-1677756119517-756a1d0d2a2c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80" alt="Abstract AI art" class="w-full h-48 object-cover">
            <div class="p-6 flex flex-col flex-grow">
              <span class="text-sky-600 text-xs font-semibold uppercase tracking-wider">AI Insights</span>
              <h3 class="text-xl font-semibold text-gray-800 mt-2 mb-3">5 Ways AI is Revolutionizing Content Creation</h3>
              <p class="text-gray-600 text-sm flex-grow">Discover how artificial intelligence is changing the game for marketers, writers, and designers, from generating ideas to producing final assets.</p>
              <div class="mt-6 flex items-center">
                <div class="text-sm text-gray-500">
                  <p class="font-semibold text-gray-700"></p>
                  <p>June 15, 2025</p>
                </div>
              </div>
              <button onclick="showAlert('Full blog post coming soon!', 'info')" class="mt-4 w-full bg-gray-800 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition">Read More</button>
            </div>
          </div>
          <!-- Blog Post 2 -->
          <div class="bg-white rounded-lg shadow-lg overflow-hidden flex flex-col">
            <img src="https://images.unsplash.com/photo-1556742502-ec7c0e9f34b1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=420&q=80" alt="People collaborating in an office" class="w-full h-48 object-cover">
            <div class="p-6 flex flex-col flex-grow">
              <span class="text-green-600 text-xs font-semibold uppercase tracking-wider">Productivity</span>
              <h3 class="text-xl font-semibold text-gray-800 mt-2 mb-3">How to Use Text Summarization to Boost Your Research Speed</h3>
              <p class="text-gray-600 text-sm flex-grow">Overwhelmed by reading? Learn practical tips on leveraging AI summarizers to quickly extract key information from dense documents and articles.</p>
              <div class="mt-6 flex items-center">
                <div class="text-sm text-gray-500">
                  <p class="font-semibold text-gray-700"></p>
                  <p>June 10, 2025</p>
                </div>
              </div>
               <button onclick="showAlert('Full blog post coming soon!', 'info')" class="mt-4 w-full bg-gray-800 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition">Read More</button>
            </div>
          </div>
          <!-- Blog Post 3 -->
          <div class="bg-white rounded-lg shadow-lg overflow-hidden flex flex-col">
            <img src="https://images.unsplash.com/photo-1526628953301-3e589a6a8b74?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=990&q=80" alt="Global connection lines" class="w-full h-48 object-cover">
            <div class="p-6 flex flex-col flex-grow">
              <span class="text-indigo-600 text-xs font-semibold uppercase tracking-wider">Case Study</span>
              <h3 class="text-xl font-semibold text-gray-800 mt-2 mb-3">Breaking Barriers: A Look at AI-Powered Document Translation</h3>
              <p class="text-gray-600 text-sm flex-grow">Explore a real-world example of how our AI translation tool helped a small business expand into international markets with ease and accuracy.</p>
              <div class="mt-6 flex items-center">
                <div class="text-sm text-gray-500">
                  <p class="font-semibold text-gray-700"></p>
                  <p>June 05, 2025</p>
                </div>
              </div>
               <button onclick="showAlert('Full blog post coming soon!', 'info')" class="mt-4 w-full bg-gray-800 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition">Read More</button>
            </div>
          </div>
        </div>

        <!-- RSS Feed Link at the bottom -->
        <div class="text-center mt-16 border-t pt-8">
            <a href="https://#.com/" target="_blank" title="Subscribe to RSS Feed" rel="noopener noreferrer" class="inline-flex items-center gap-2 text-gray-600 hover:text-orange-500 transition-colors">
                <svg class="w-6 h-6 text-orange-400" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 18c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2zm-2-5.5c0-1.873 1.258-3.444 3-3.868V5.868C2.129 6.29 0 8.525 0 11.25h2zm0-4.5C2 3.485 5.485 0 9.75 0v2C6.567 2 4 4.567 4 7.75H2z"/></svg>
                <span>Subscribe to our Feed</span>
            </a>
        </div>

      </div>
    </div>
    <div id="privacyPolicyPage" class="page">
      <div class="container mx-auto px-4 py-16 prose lg:prose-xl">
        <h2 class="text-3xl font-bold mb-6 text-center">Privacy Policy</h2><p class="mb-4 text-sm text-gray-600 text-center">Last updated: May 30, 2025</p><p>At Tech_Gen SaaS, we respect your privacy and are committed to protecting your personal data. This Privacy Policy explains how we collect, use, and safeguard your information when you use our website and services.</p><h2>1. Information We Collect</h2><p>We may collect the following data when you interact with our Service:</p><h3>Personal Information</h3><p>Name, email, contact details (when you sign up or contact us).</p><p>Payment/billing information (processed securely via third-party providers like Stripe/PayPal).</p><h3>Automated Data</h3><p>Cookies & Tracking: We use cookies to improve user experience (e.g., login sessions, analytics).</p><p>Log Files: IP address, browser type, pages visited, and timestamps.</p><h3>Third-Party Data</h3><p>If you log in via Google/GitHub/etc., we may receive your public profile info (per your permissions).</p><h2>2. How We Use Your Data</h2><p>We process your information to:</p><ul><li>Provide and maintain the Service.</li><li>Process payments and prevent fraud.</li><li>Communicate updates, offers, or support requests.</li><li>Analyze usage trends to improve our Service.</li></ul><h2>3. Data Sharing & Disclosure</h2><p>We do not sell your data. We may share it only in these cases:</p><ul><li><strong>Service Providers:</strong> Trusted vendors (e.g., hosting, payment processors) under strict confidentiality.</li><li><strong>Legal Compliance:</strong> If required by law (e.g., subpoenas, fraud investigations).</li><li><strong>Business Transfers:</strong> In case of mergers/acquisitions (users will be notified).</li></ul><h2>4. Data Security</h2><p>We implement SSL encryption, access controls, and regular audits to protect your data. However, no online method is 100% secure—please safeguard your account credentials.</p><h2>5. Your Rights</h2><p>Depending on your location, you may:</p><ul><li>Access, correct, or delete your personal data.</li><li>Opt out of marketing emails (via unsubscribe links).</li><li>Disable cookies (via browser settings).</li><li>Request data portability or restriction of processing.</li></ul><p>To exercise these rights, contact us at <a href="mailto:privacy@Tech_Gen.com">privacy@Tech_Gen.com</a>.</p><h2>6. Cookies Policy</h2><p>We use:</p><ul><li><strong>Essential Cookies:</strong> Necessary for site functionality (e.g., login).</li><li><strong>Analytics Cookies:</strong> Google Analytics to track traffic (anonymous data).</li><li><strong>Marketing Cookies:</strong> If running ads (e.g., Facebook Pixel).</li></ul><h2>7. Third-Party Links</h2><p>Our Service may link to external sites (e.g., documentation, social media). We are not responsible for their privacy practices.</p><h2>8. Children's Privacy</h2><p>Our Service is not intended for users under 13. We do not knowingly collect their data.</p><h2>9. International Data Transfers</h2><p>If data crosses borders, we ensure protections (e.g., GDPR Standard Contractual Clauses).</p><h2>10. Policy Updates</h2><p>We may update this policy and will notify users via email or website notices.</p><div class="contact-info"><h2>11. Contact Us</h2><p>For privacy-related questions, contact:</p><p><a href="mailto:privacy@Tech_Gen.com" class="text-sky-600 hover:underline">privacy@Tech_Gen.com</a></p></div>
      </div>
    </div>
    <div id="termsOfServicePage" class="page">
      <div class="container mx-auto px-4 py-16 prose lg:prose-xl">
        <h2 class="text-3xl font-bold mb-6 text-center">Terms of Service</h2><p class="mb-4 text-sm text-gray-600 text-center">Last updated: May 30, 2025</p><p>Welcome to Tech_Gen SaaS (the "Service"). By accessing or using our website and services, you agree to comply with and be bound by the following Terms and Conditions. If you do not agree, please refrain from using our Service.</p><h2>1. Acceptance of Terms</h2><p>By using our Service, you confirm that you are at least 18 years old or have legal guardian consent. You also agree to provide accurate and complete information when registering.</p><h2>2. Service Description</h2><p>Tech_Gen SaaS provides cloud-based AI-tools including image generation, document translation, and text summarization. We reserve the right to modify or discontinue any part of the Service without prior notice.</p><h2>3. User Responsibilities</h2><p>You agree not to misuse the Service (e.g., hacking, spamming, or distributing malware).</p><p>You are responsible for maintaining the confidentiality of your account credentials.</p><p>Any unauthorized use of your account must be reported immediately.</p><h2>4. Payments & Subscriptions</h2><p>Fees for the Service are as listed on our pricing page.</p><p>Payments are non-refundable unless otherwise stated.</p><p>We may change pricing with prior notice.</p><h2>5. Intellectual Property</h2><p>All content, trademarks, and software on the Service are owned by Tech_Gen or its licensors. Unauthorized use, reproduction, or distribution is prohibited.</p><h2>6. Privacy Policy</h2><p>Your use of the Service is also governed by our <a href="#privacyPolicyPage" onclick="showPage('privacyPolicyPage'); return false;" class="text-sky-600 hover:underline">Privacy Policy</a>.</p><h2>7. Termination</h2><p>We may suspend or terminate your access for violations of these Terms, illegal activities, or non-payment.</p><h2>8. Limitation of Liability</h2><p>Tech_Gen is not liable for any indirect, incidental, or consequential damages arising from your use of the Service.</p><h2>9. Governing Law</h2><p>These Terms shall be governed by the laws of India, without regard to conflict of law principles.</p><h2>10. Changes to Terms</h2><p>We may update these Terms periodically. Continued use after changes constitutes acceptance.</p><h3 class="text-2xl font-semibold mt-8 mb-3">Contact Us</h3><p>If you have any questions about these Terms, please contact us via the <a href="#contact" onclick="showPage('contact'); return false;" class="text-sky-600 hover:underline">Contact page</a>.</p>
      </div>
    </div>
  </main>

  <footer class="bg-gray-800 text-white py-8">
    <div class="container mx-auto px-4 text-center">
      <div class="mb-6">
        <h4 class="text-lg font-semibold mb-4">Connect With Us</h4>
        <div class="flex justify-center space-x-4">
          <a href="https://www.facebook.com/share/1E4dYSnnYw/" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Facebook</title><path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"></path></svg></a>
          <a href="https://x.com/manjeshsharma8?t=6FU-OLj9YMIPd_92uoUHPw&s=09" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg></a>
          <a href="https://www.instagram.com/mjsharma7321?igsh=ZW0yMmhyZ2Z0bmp6" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Instagram</title><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"></path></svg></a>
          <a href="https://youtube.com/@manjeshsharma?si=cvazHP7_fLn3mZrd" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>YouTube</title><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"></path></svg></a>
        </div>
      </div>
      <div class="mb-4 text-sm">
        <a href="#home" onclick="showPage('home'); return false;" class="text-gray-300 hover:text-white underline p-2">Home</a> |
        <a href="#blog" onclick="showPage('blog'); return false;" class="text-gray-300 hover:text-white underline p-2">Blog</a> |
        <a href="#privacyPolicyPage" onclick="showPage('privacyPolicyPage'); return false;" class="text-gray-300 hover:text-white underline p-2">Privacy Policy</a> |
        <a href="#termsOfServicePage" onclick="showPage('termsOfServicePage'); return false;" class="text-gray-300 hover:text-white underline p-2">Terms of Service</a> |
        <a href="#contact" onclick="showPage('contact'); return false;" class="text-gray-300 hover:text-white underline p-2">Contact Us</a>
      </div>
      <p class="text-xs text-gray-400">© 2025 Tech_Gen. All rights reserved.</p>
    </div>
  </footer>

  <script>
    // =================================================================================
    // IMPORTANT: This script requires a specific backend setup in Supabase.
    // Please run the SQL queries provided in the documentation before using this file.
    // You need to create a `profiles` table, a trigger, and an RPC function.
    // =================================================================================

    if (typeof pdfjsLib !== 'undefined') {
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';
    }

    // --- API KEYS AND CONFIGURATION ---
    const GEMINI_API_KEY = "AIzaSyBkqwiILRTyfMCfzulzRR1oY8lowy63WOs";
    const GEMINI_API_URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent";
    const MONSTER_API_BEARER_TOKEN = "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VybmFtZSI6IjczODkxZjY1MTM1YWNkMjY1MmY3NDE1OWJmMjgzMjA4IiwiY3JlYXRlZF9hdCI6IjIwMjUtMDUtMjlUMDU6NDA6MzEuMTk2MjgzIn0.iOaQlBji9aXM5y7BM3UFmFSL0jF1yXLzeKiAN0-SlyA";
    const MONSTER_API_TXT2IMG_URL = "https://api.monsterapi.ai/v1/generate/txt2img";
    const RAZORPAY_KEY_ID = "rzp_live_xoN2xNuHMZnCup";

    // --- SUPABASE INITIALIZATION ---
    const supabaseUrl = "https://mqfdzatkzxjnsyeddgcd.supabase.co";
    const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1xZmR6YXRrenhqbnN5ZWRkZ2NkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk1Njk3NDQsImV4cCI6MjA2NTE0NTc0NH0.OnpKgIhCiEysmHlqEC9iC2s_f6SH39duQxoKEsIWG4o";
    const { createClient } = supabase;
    const supabaseClient = createClient(supabaseUrl, supabaseKey);

    // --- APPLICATION STATE AND CONSTANTS ---
    let currentUser = null;
    let inactivityTimer;
    const INACTIVITY_TIMEOUT = 5 * 60 * 1000; // 5 minutes
    const GUEST_TOTAL_USAGE_LIMIT = 10;
    const FREE_TIER_LIMITS = { imageGen: 5, translate: 10, summarize: 5 };
    let guestUsage = JSON.parse(sessionStorage.getItem('techGenGuestUsage')) || { total: 0 };

    const plansData = {
        free: { name: "Free", priceDisplay: "₹0/month", priceAmount: 0, currency: "INR", id: 'free' },
        pro: { name: "Pro", priceDisplay: "₹499/month", priceAmount: 49900, currency: "INR", id: 'pro' },
        business: { name: "Business", priceDisplay: "₹1499/month", priceAmount: 149900, currency: "INR", id: 'business' }
    };

    const pageMetaInfo = {
        home: { title: "Tech_Gen - AI SaaS Platform | Home", description: "Boost your workflow with AI-powered image generation, document translation, and text summarization tools from TECH_GEN." },
        login: { title: "Login - Tech_Gen", description: "Access your Tech_Gen account to use our suite of AI tools." },
        register: { title: "Register - Tech_Gen", description: "Create an account with Tech_Gen to start using powerful AI tools for image generation, translation, and summarization." },
        accountPage: { title: "My Account - Tech_Gen", description: "View your account details, subscription plan, and usage statistics on Tech_Gen." },
        'ai-generator': { title: "AI Image Generator - Tech_Gen", description: "Generate stunning and unique images from text prompts using our advanced AI Image Generator." },
        translate: { title: "AI Document & Text Translator - Tech_Gen", description: "Translate text or entire documents (PDF, DOCX, TXT) into multiple languages." },
        summarization: { title: "AI Text Summarizer - Tech_Gen", description: "Quickly summarize long articles, reports, and documents with our AI Text Summarizer." },
        blog: { title: "Blog - Tech_Gen", description: "Read the latest articles, tutorials, and insights on AI, productivity, and technology from the Tech_Gen team." },
        pricing: { title: "Pricing Plans - Tech_Gen", description: "Explore our flexible pricing plans for Tech_Gen tools." },
        contact: { title: "Contact Us - Tech_Gen", description: "Get in touch with the Tech_Gen team for support, inquiries, or feedback." },
        privacyPolicyPage: { title: "Privacy Policy - Tech_Gen", description: "Read the Privacy Policy for Tech_Gen." },
        termsOfServicePage: { title: "Terms of Service - Tech_Gen", description: "Review the Terms of Service for using the Tech_Gen platform." },
        paymentPage: { title: "Complete Purchase - Tech_Gen", description: "Securely complete your subscription purchase for Tech_Gen AI tools."},
        forgotPassword: { title: "Forgot Password - Tech_Gen", description: "Reset your Tech_Gen account password."},
        resetPassword: { title: "Set New Password - Tech_Gen", description: "Set a new password for your Tech_Gen account."}
    };

    const authPageIds = ['login', 'register', 'forgotPassword', 'resetPassword', 'paymentPage'];
    
    // --- UI AND HELPER FUNCTIONS ---

    async function loadCurrentUserProfile(user) {
        if (!user) {
            currentUser = null;
            return;
        }
        const { data: profile, error } = await supabaseClient
            .from('profiles')
            .select('full_name, plan')
            .eq('id', user.id)
            .single();
        if (error && error.code !== 'PGRST116') {
            console.error("Error fetching profile:", error);
            showAlert("Could not load your user profile. Please try again later.", "error");
            await supabaseClient.auth.signOut();
            return;
        }
        let usageCounts = JSON.parse(sessionStorage.getItem(`techGenUsage_${user.email}`)) || { imageGen: 0, translate: 0, summarize: 0 };
        currentUser = {
            id: user.id,
            email: user.email,
            name: profile?.full_name || user.user_metadata?.full_name || user.email.split('@')[0],
            plan: profile?.plan || 'free',
            usageCounts: usageCounts
        };
    }

    function escapeHtml(unsafe) {
      if (typeof unsafe !== 'string') unsafe = String(unsafe === null || unsafe === undefined ? '' : unsafe);
      return unsafe.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#039;");
    }

    function showAlert(message, type = 'info', duration = 4000) {
      document.querySelectorAll('.alert-message').forEach(alert => alert.remove());
      const alert = document.createElement('div');
      alert.className = `alert-message alert-${type}`;
      alert.textContent = escapeHtml(message);
      document.body.appendChild(alert);
      setTimeout(() => {
        alert.style.opacity = '0';
        setTimeout(() => alert.remove(), 300);
      }, type === 'error' ? Math.max(duration, 7000) : duration);
    }

    function createUsageBar(label, used, limit) {
        const percentage = limit > 0 ? Math.min((used / limit) * 100, 100) : 0;
        return `
            <div>
                <div class="flex justify-between items-center mb-1 text-sm text-gray-600">
                    <span>${label}</span>
                    <span>${used} / ${limit}</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-bar-inner" style="width: ${percentage}%;">${Math.round(percentage)}%</div>
                </div>
            </div>`;
    }

    function populateAccountPage() {
        if (!currentUser) {
            showPage('login');
            showAlert('Please log in to view your account.', 'info');
            return;
        }
        document.getElementById('accountName').textContent = escapeHtml(currentUser.name);
        document.getElementById('accountEmail').textContent = escapeHtml(currentUser.email);
        const planName = plansData[currentUser.plan]?.name || 'Unknown';
        document.getElementById('accountPlan').textContent = planName;
        const usageDetailsEl = document.getElementById('accountUsageDetails');
        const upgradeBtn = document.getElementById('upgradePlanBtn');
        usageDetailsEl.innerHTML = '';
        if (currentUser.plan === 'free') {
            usageDetailsEl.innerHTML += createUsageBar('AI Image Generations', currentUser.usageCounts.imageGen, FREE_TIER_LIMITS.imageGen);
            usageDetailsEl.innerHTML += createUsageBar('Translations', currentUser.usageCounts.translate, FREE_TIER_LIMITS.translate);
            usageDetailsEl.innerHTML += createUsageBar('Summarizations', currentUser.usageCounts.summarize, FREE_TIER_LIMITS.summarize);
            upgradeBtn.classList.remove('hidden');
        } else {
            usageDetailsEl.innerHTML = `<p class="text-green-700 bg-green-100 p-3 rounded-md">You have unlimited access to all features on the <strong>${escapeHtml(planName)}</strong> plan.</p>`;
            upgradeBtn.classList.add('hidden');
        }
    }

    function showPage(pageId, isInitialLoad = false) {
        document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
        const targetPage = document.getElementById(pageId);
        const authPagesWrapper = document.getElementById('auth-pages-wrapper');
        if (authPagesWrapper) {
            authPagesWrapper.classList.toggle('active-auth', authPageIds.includes(pageId));
        }
        if (targetPage) {
            targetPage.classList.add('active');
            if (pageId === 'accountPage') populateAccountPage();
            const meta = pageMetaInfo[pageId] || pageMetaInfo['home'];
            document.title = meta.title;
            const descriptionTag = document.querySelector('meta[name="description"]');
            if (descriptionTag) descriptionTag.content = meta.description;
            const newURL = `${window.location.pathname}#${pageId}`;
            if (window.location.hash !== `#${pageId}`) {
                if (isInitialLoad) {
                    window.history.replaceState({ page: pageId }, meta.title, newURL);
                } else {
                    window.history.pushState({ page: pageId }, meta.title, newURL);
                }
            }
        } else {
            console.warn(`Page with ID "${pageId}" not found. Defaulting to home.`);
            showPage('home');
        }
        window.scrollTo(0, 0);
        document.querySelectorAll('#loginError, #registerError, #forgotPasswordError, #resetPasswordError, #forgotPasswordSuccess, #resetPasswordSuccess').forEach(el => {
            el.classList.add('hidden'); el.innerHTML = '';
        });
    }

    function getCurrentPageIdFromUrl() {
        const hash = window.location.hash;
        if (hash.includes('access_token')) return 'home';
        const pageId = hash.substring(1);
        return (pageId && document.getElementById(pageId)) ? pageId : 'home';
    }
    
    function updateAuthUI() {
        const authButtonsContainer = document.getElementById('authButtonsContainer');
        const userInfoContainer = document.getElementById('userInfoContainer');
        const userEmailDisplay = document.getElementById('userEmailDisplay');
        if (currentUser) {
            authButtonsContainer.classList.add('hidden');
            userInfoContainer.classList.remove('hidden');
            const planName = plansData[currentUser.plan]?.name || 'Free';
            userEmailDisplay.textContent = `${escapeHtml(currentUser.name)} (${escapeHtml(planName)} Plan)`;
        } else {
            authButtonsContainer.classList.remove('hidden');
            userInfoContainer.classList.add('hidden');
            userEmailDisplay.textContent = '';
        }
    }

    function resetInactivityTimer() {
        clearTimeout(inactivityTimer);
        if (currentUser) {
            inactivityTimer = setTimeout(async () => {
                if (currentUser) { 
                    console.log(`Inactivity timeout reached. Logging out ${currentUser.email}.`);
                    await handleLogout();
                    showAlert('You have been logged out due to inactivity.', 'info');
                }
            }, INACTIVITY_TIMEOUT);
        }
    }
    
    function canUseFeature(featureType, currentPageId) {
        if (!currentUser) {
            if (guestUsage.total < GUEST_TOTAL_USAGE_LIMIT) return true;
            showAlert(`Guest usage limit reached. Please log in or register to continue.`, 'info');
            sessionStorage.setItem('intendedPage', currentPageId || 'home');
            showPage('login');
            return false;
        }
        if (currentUser.plan === 'pro' || currentUser.plan === 'business') return true;
        if (currentUser.plan === 'free') {
            const limit = FREE_TIER_LIMITS[featureType];
            const currentCount = currentUser.usageCounts[featureType] || 0;
            if (currentCount < limit) return true;
            showAlert(`Free plan session limit for this feature reached. Upgrade for unlimited access.`, 'info');
            showPage('pricing');
            return false;
        }
        return false;
    }

    function incrementFeatureUsage(featureType) {
        if (!currentUser) {
            guestUsage.total++;
            sessionStorage.setItem('techGenGuestUsage', JSON.stringify(guestUsage));
            return;
        }
        if (currentUser.plan === 'free') {
            currentUser.usageCounts[featureType] = (currentUser.usageCounts[featureType] || 0) + 1;
            sessionStorage.setItem(`techGenUsage_${currentUser.email}`, JSON.stringify(currentUser.usageCounts));
            if (document.getElementById('accountPage').classList.contains('active')) {
                populateAccountPage();
            }
        }
    }
    
    async function callGeminiAPI(promptText) {
        if (!GEMINI_API_KEY || GEMINI_API_KEY === "YOUR_GEMINI_API_KEY") {
             showAlert('API Key is not configured. AI features are disabled.', 'error');
             throw new Error('API Key not configured.');
        }
        const requestUrl = `${GEMINI_API_URL}?key=${GEMINI_API_KEY}`;
        try {
            const response = await fetch(requestUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: promptText }] }] })
            });
            if (!response.ok) {
                const errorData = await response.json().catch(() => ({ error: { message: `API error: ${response.status} ${response.statusText}` }}));
                throw new Error(errorData.error?.message || `API error: ${response.status}`);
            }
            const data = await response.json();
            if (data.candidates && data.candidates[0]?.content?.parts[0]?.text) {
                return data.candidates[0].content.parts[0].text;
            } else if (data.promptFeedback?.blockReason) {
                 throw new Error(`Content blocked by API: ${data.promptFeedback.blockReason}.`);
            } else {
                throw new Error('Invalid response from Gemini API.');
            }
        } catch (error) {
            console.error('Error calling Gemini API:', error);
            throw error; 
        }
    }

    async function initiateMonsterImageGeneration(prompt, aspectRatio, style) {
        if (!MONSTER_API_BEARER_TOKEN || MONSTER_API_BEARER_TOKEN === "YOUR_MONSTER_API_TOKEN") {
            showAlert('Image generation API is not configured.', 'error');
            throw new Error('Monster API Token not configured.');
        }
        const formData = new FormData();
        formData.append('prompt', prompt);
        formData.append('aspect_ratio', aspectRatio);
        if (style) formData.append('style', style);
        
        const response = await fetch(MONSTER_API_TXT2IMG_URL, {
            method: 'POST',
            headers: { 'Authorization': `Bearer ${MONSTER_API_BEARER_TOKEN}`, 'Accept': 'application/json' },
            body: formData
        });
        if (!response.ok) {
            const errorData = await response.json().catch(() => ({ message: `Monster API error: ${response.status}` }));
            throw new Error(errorData.message || `Monster API error: ${response.status}`);
        }
        return await response.json(); 
    }

    async function fetchMonsterImageStatus(statusUrl) {
        if (!MONSTER_API_BEARER_TOKEN) throw new Error('Monster API Token not configured.');
        const response = await fetch(statusUrl, {
            method: 'GET',
            headers: { 'Authorization': `Bearer ${MONSTER_API_BEARER_TOKEN}`, 'Accept': 'application/json' }
        });
        if (!response.ok) {
            const errorData = await response.json().catch(() => ({ message: `Monster API status error: ${response.status}`}));
            throw new Error(errorData.message || `Monster API status error: ${response.status}`);
        }
        return await response.json();
    }
        
    function downloadContent(content, filename) {
        const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.href = url;
        link.download = filename;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        URL.revokeObjectURL(url);
        showAlert(`Downloaded ${filename}`, 'success');
    }

    function downloadImage(url, filename) { 
      fetch(url, { mode: 'cors' }) 
        .then(response => response.ok ? response.blob() : Promise.reject('Network response was not ok.'))
        .then(blob => {
          if (blob) { 
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob); 
            link.download = filename;
            document.body.appendChild(link); 
            link.click(); 
            document.body.removeChild(link);
            URL.revokeObjectURL(link.href); 
            showAlert('Image downloaded successfully!', 'success');
          }
        })
        .catch(error => {
            console.error('Download image error:', error);
            showAlert(`Image download failed. Please try to right-click and save the image manually.`, 'error');
        });
    }

    async function extractTextFromFile(file) { 
        const extension = file.name.split('.').pop().toLowerCase();
        if (extension === 'pdf') return await extractTextFromPDF(file);
        if (extension === 'docx') return await extractTextFromDOCX(file);
        if (extension === 'txt') return await extractTextFromTXT(file);
        throw new Error('Unsupported file type. Please use PDF, DOCX, or TXT.');
    }
    
    function extractTextFromPDF(file) { 
        return new Promise((resolve, reject) => {
            const fileReader = new FileReader();
            fileReader.onload = async function() {
                try {
                    const typedarray = new Uint8Array(this.result);
                    const pdf = await pdfjsLib.getDocument(typedarray).promise;
                    let fullText = '';
                    for (let i = 1; i <= pdf.numPages; i++) {
                        const page = await pdf.getPage(i);
                        const textContent = await page.getTextContent();
                        fullText += textContent.items.map(item => item.str).join(' ') + '\n';
                    }
                    resolve(fullText.trim());
                } catch (e) { 
                    reject(new Error("Could not extract text from PDF. The file might be corrupted or encrypted.")); 
                }
            };
            fileReader.onerror = () => reject(new Error("Error reading PDF file."));
            fileReader.readAsArrayBuffer(file);
        });
    }
    
    function extractTextFromDOCX(file) { 
        return new Promise((resolve, reject) => {
            const fileReader = new FileReader();
            fileReader.onload = function() {
                mammoth.extractRawText({arrayBuffer: this.result})
                    .then(result => resolve(result.value.trim()))
                    .catch(err => reject(new Error("Could not extract text from DOCX.")));
            };
            fileReader.onerror = () => reject(new Error("Error reading DOCX file."));
            fileReader.readAsArrayBuffer(file);
        });
    }
    
    function extractTextFromTXT(file) { 
        return new Promise((resolve, reject) => {
            const fileReader = new FileReader();
            fileReader.onload = function() { resolve(this.result.trim()); };
            fileReader.onerror = () => reject(new Error("Error reading TXT file."));
            fileReader.readAsText(file);
        });
    }

    function initiatePayment(planId) {
        const planToPurchase = plansData[planId];
        if (!planToPurchase) return showAlert('Invalid plan selected.', 'error');
        if (planId === 'business' && !planToPurchase.priceAmount) {
            showPage('contact');
            return showAlert('For Business plans, please contact our sales team.', 'info');
        }
        if (!currentUser) { 
            sessionStorage.setItem('pendingPlan', planId); 
            sessionStorage.setItem('intendedPage', 'paymentPage'); 
            showAlert('Please log in or register to purchase a plan.', 'info');
            return showPage('login');
        }
        document.getElementById('paymentPlanName').textContent = planToPurchase.name;
        document.getElementById('paymentPlanPrice').textContent = planToPurchase.priceDisplay;
        document.getElementById('paymentForm').dataset.planId = planId;
        const cardNameInput = document.getElementById('cardNameInput');
        const emailInput = document.getElementById('emailInput');
        if (cardNameInput && currentUser.name) cardNameInput.value = currentUser.name;
        if (emailInput && currentUser.email) emailInput.value = currentUser.email;
        showPage('paymentPage');
    }

    async function handlePayment(event) {
        event.preventDefault();
        const paymentForm = document.getElementById('paymentForm');
        const planId = paymentForm.dataset.planId;
        const planDetails = plansData[planId];
        
        if (!planDetails || !RAZORPAY_KEY_ID || RAZORPAY_KEY_ID === "YOUR_RAZORPAY_KEY_ID" || !currentUser) {
            return showAlert("Payment cannot be processed. Please ensure you are logged in.", 'error');
        }
        const options = {
            key: RAZORPAY_KEY_ID,
            amount: planDetails.priceAmount,
            currency: planDetails.currency,
            name: "Tech_Gen AI Solutions",
            description: `Subscription: ${planDetails.name}`,
            prefill: {
                name: document.getElementById('cardNameInput').value,
                email: document.getElementById('emailInput').value
            },
            notes: { plan_id: planId, user_id: currentUser.id },
            theme: { color: "#1B2EFD" },
            handler: async function (response) {
                showAlert(`Payment Successful! Updating your plan...`, 'success');
                const { error: rpcError } = await supabaseClient.rpc('update_user_plan', { new_plan: planDetails.id });
                if (rpcError) {
                    console.error('Plan update RPC error:', rpcError);
                    showAlert(`Payment was successful, but we couldn't update your plan automatically. Please contact support.`, 'error', 15000);
                    showPage('contact');
                } else {
                    const { data: { user } } = await supabaseClient.auth.getUser();
                    await loadCurrentUserProfile(user);
                    updateAuthUI();
                    showAlert(`Your ${planDetails.name} plan is now active!`, 'success', 8000);
                    showPage('accountPage');
                }
            },
            modal: { ondismiss: () => showAlert("Payment was cancelled.", 'info') }
        };
        const rzp = new Razorpay(options);
        rzp.on('payment.failed', (response) => showAlert(`Payment Failed: ${response.error.description}`, 'error', 10000));
        rzp.open();
    }
    
    // --- LOGOUT FUNCTION ---
    async function handleLogout() {
      await supabaseClient.auth.signOut();
    }

    // --- APP INITIALIZATION AND EVENT LISTENERS ---
    
    function initializeEventListeners() {
        const activityEvents = ['mousemove', 'mousedown', 'keypress', 'scroll', 'touchstart'];
        activityEvents.forEach(eventName => window.addEventListener(eventName, resetInactivityTimer, true));

        window.addEventListener('popstate', (event) => {
            const pageId = event.state?.page || getCurrentPageIdFromUrl();
            showPage(pageId);
        });

        // --- AUTH FORMS ---
        document.getElementById('loginForm')?.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = e.target.email.value.trim();
            const password = e.target.password.value.trim();
            const errorEl = document.getElementById('loginError');
            errorEl.classList.add('hidden');
            const { error } = await supabaseClient.auth.signInWithPassword({ email, password });
            if (error) {
                errorEl.textContent = error.message;
                errorEl.classList.remove('hidden');
            } else {
                showAlert('Welcome back!', 'success');
                e.target.reset();
            }
        });

        document.getElementById('registerForm')?.addEventListener('submit', async (e) => {
            e.preventDefault();
            const fullName = e.target.fullName.value.trim();
            const email = e.target.email.value.trim();
            const password = e.target.password.value.trim();
            const errorEl = document.getElementById('registerError');
            errorEl.classList.add('hidden');
            
            if (password.length < 6) {
                errorEl.textContent = 'Password must be at least 6 characters long.';
                errorEl.classList.remove('hidden');
                return;
            }

            const { data, error } = await supabaseClient.auth.signUp({
                email, password, options: { data: { full_name: fullName } }
            });
            
            if (error) {
                console.error("Registration Error:", error);
                if (error.message && error.message.toLowerCase().includes("user already registered")) {
                    errorEl.innerHTML = 'This email is already registered. Please <button type="button" onclick="showPage(\'login\')" class="font-bold underline text-sky-700 hover:text-sky-500">log in</button>.';
                } else {
                    errorEl.textContent = error.message;
                }
                errorEl.classList.remove('hidden');
            } else {
                // *** FIX 2: Removed showPage('login') to let the auth handler work correctly ***
                showAlert('Registration successful! Welcome.', 'success');
                e.target.reset();
            }
        });

        document.getElementById('forgotPasswordForm')?.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = e.target.email.value;
            const errorEl = document.getElementById('forgotPasswordError');
            const successEl = document.getElementById('forgotPasswordSuccess');
            errorEl.classList.add('hidden');
            successEl.classList.add('hidden');
            const { error } = await supabaseClient.auth.resetPasswordForEmail(email, {
                redirectTo: `${window.location.origin}${window.location.pathname}`
            });
            if (error) {
                errorEl.textContent = error.message;
                errorEl.classList.remove('hidden');
            } else {
                successEl.classList.remove('hidden');
            }
        });

        document.getElementById('resetPasswordForm')?.addEventListener('submit', async (e) => {
            e.preventDefault();
            const newPassword = e.target.newPassword.value;
            const errorEl = document.getElementById('resetPasswordError');
            errorEl.classList.add('hidden');
            if (newPassword.length < 6) {
                errorEl.textContent = 'Password must be at least 6 characters.';
                errorEl.classList.remove('hidden');
                return;
            }
            const { error } = await supabaseClient.auth.updateUser({ password: newPassword });
            if (error) {
                errorEl.textContent = error.message;
                errorEl.classList.remove('hidden');
            } else {
                showAlert('Password updated successfully. Please log in.', 'success');
                await handleLogout();
            }
        });

        document.getElementById('paymentForm')?.addEventListener('submit', handlePayment);
        
        document.getElementById('contactForm')?.addEventListener('submit', function(event) {
            event.preventDefault(); 
            const formData = new FormData(this);
            const submitBtn = this.querySelector('button[type="submit"]');
            submitBtn.disabled = true;
            document.getElementById('contactSubmitSpinner').classList.remove('hidden');
            fetch(this.action, { method: this.method, body: formData, headers: { 'Accept': 'application/json' } })
            .then(res => {
                if (res.ok) {
                    showAlert('Message sent!', 'success');
                    this.reset();
                } else {
                    res.json().then(data => { throw new Error(data.errors?.map(e => e.message).join(', ') || 'Unknown error.') });
                }
            })
            .catch(err => showAlert(`Form submission error: ${err.message}`, 'error'))
            .finally(() => {
                submitBtn.disabled = false;
                document.getElementById('contactSubmitSpinner').classList.add('hidden');
            });
        });
        
        // --- TOOL LISTENERS ---
        document.getElementById('generateImageBtn')?.addEventListener('click', async function() {
            if (!canUseFeature('imageGen', 'ai-generator')) return;
            const prompt = document.getElementById('imagePrompt').value.trim();
            if (!prompt) return showAlert('Please enter an image description.', 'error');
            this.disabled = true;
            document.getElementById('generateSpinner').classList.remove('hidden');
            document.getElementById('imagePlaceholder').style.display = 'flex';
            document.getElementById('imagePlaceholderText').textContent = 'Generating... please wait.';
            document.getElementById('imageResultContainer').classList.add('hidden');
            try {
                const initRes = await initiateMonsterImageGeneration(prompt, document.getElementById('monsterAspectRatio').value, document.getElementById('monsterImageStyle').value);
                let attempts = 0, maxAttempts = 40, pollInterval = 5000;
                const poll = async () => {
                    if (attempts++ >= maxAttempts) throw new Error('Image generation timed out.');
                    const statusRes = await fetchMonsterImageStatus(initRes.status_url);
                    if (statusRes.status === 'IN_PROGRESS' || statusRes.status === 'IN_QUEUE') {
                        setTimeout(poll, pollInterval);
                    } else if (statusRes.status === 'COMPLETED') {
                        const img = document.getElementById('generatedImage');
                        img.onload = () => {
                            document.getElementById('imagePlaceholder').style.display = 'none';
                            document.getElementById('imageResultContainer').classList.remove('hidden');
                        };
                        img.src = statusRes.result.output[0]; 
                        img.alt = prompt;
                        document.getElementById('downloadImageBtn').onclick = () => downloadImage(img.src, `techgen-ai-image-${Date.now()}.png`);
                        showAlert('Image generated successfully!', 'success');
                        incrementFeatureUsage('imageGen');
                        this.disabled = false;
                        document.getElementById('generateSpinner').classList.add('hidden');
                    } else { throw new Error(`Image generation failed: ${statusRes.message || 'Unknown API error'}`); }
                };
                setTimeout(poll, pollInterval);
            } catch (err) { 
                showAlert(`Failed to generate image: ${err.message}`, 'error');
                this.disabled = false;
                document.getElementById('generateSpinner').classList.add('hidden');
                document.getElementById('imagePlaceholderText').textContent = 'Image will appear here';
            }
        });

        document.getElementById('translateTextBtn')?.addEventListener('click', async function() {
            if (!canUseFeature('translate', 'translate')) return;
            const textToTranslate = document.getElementById('translatePageTextInput').value.trim();
            if (!textToTranslate) return showAlert('Please enter text to translate.', 'error');
            this.disabled = true;
            document.getElementById('translateTextSpinner').classList.remove('hidden');
            const outputDiv = document.getElementById('textOutput');
            outputDiv.innerHTML = `<p class="text-gray-400 text-sm">Translating...</p>`;
            document.getElementById('copyTextBtn').classList.add('hidden');
            try {
                const targetLangName = document.getElementById('targetLanguage').selectedOptions[0].text;
                const prompt = `Translate the following text to ${targetLangName}. Provide only the translated text, without any additional explanations or context.\n\nText:\n"""${textToTranslate}"""`;
                const translation = await callGeminiAPI(prompt);
                outputDiv.innerHTML = `<h3 class="text-sky-400 font-medium text-sm mb-2">Translated to ${escapeHtml(targetLangName)}:</h3><p class="text-white text-sm whitespace-pre-wrap">${escapeHtml(translation)}</p>`;
                document.getElementById('copyTextBtn').classList.remove('hidden');
                incrementFeatureUsage('translate');
            } catch (err) {
                outputDiv.innerHTML = `<p class="text-red-400 text-sm">Error: ${escapeHtml(err.message)}</p>`;
            } finally { 
                this.disabled = false;
                document.getElementById('translateTextSpinner').classList.add('hidden');
            }
        });

        document.getElementById('summarizeTextBtn')?.addEventListener('click', async function() {
            if (!canUseFeature('summarize', 'summarization')) return;
            const textToSummarize = document.getElementById('summarizeTextInput').value.trim();
            if (!textToSummarize) return showAlert('Please provide text to summarize.', 'error');
            this.disabled = true;
            document.getElementById('summarizeTextSpinner').classList.remove('hidden');
            const outputDiv = document.getElementById('summaryOutput');
            outputDiv.innerHTML = `<p class="text-gray-400 text-sm">Summarizing...</p>`;
            document.getElementById('copySummaryBtn').classList.add('hidden');
            try {
                const summaryLength = document.getElementById('summaryLength').value;
                const prompt = `Provide a ${summaryLength} summary of the following text. The output should be a clean, direct summary without any introductory phrases like "Here is the summary".\n\nText:\n"""${textToSummarize}"""`;
                const summary = await callGeminiAPI(prompt);
                outputDiv.innerHTML = `<h3 class="text-sky-400 font-medium text-sm mb-2">Summary:</h3><p class="text-white text-sm whitespace-pre-wrap">${escapeHtml(summary)}</p>`;
                outputDiv.dataset.rawSummary = summary;
                document.getElementById('copySummaryBtn').classList.remove('hidden');
                incrementFeatureUsage('summarize');
            } catch (err) {
                outputDiv.innerHTML = `<p class="text-red-400 text-sm">Error: ${escapeHtml(err.message)}</p>`;
            } finally {
                this.disabled = false;
                document.getElementById('summarizeTextSpinner').classList.add('hidden');
            }
        });
        
        const textTabBtn = document.getElementById('textTabBtn');
        const docTabBtn = document.getElementById('docTabBtn');
        if (textTabBtn && docTabBtn) {
            textTabBtn.addEventListener('click', () => {
                textTabBtn.classList.add('active', 'text-white');
                textTabBtn.classList.remove('text-gray-300');
                docTabBtn.classList.remove('active', 'text-white');
                docTabBtn.classList.add('text-gray-300');
                document.getElementById('textTranslationSection').classList.remove('hidden');
                document.getElementById('docTranslationSection').classList.add('hidden');
            });
            docTabBtn.addEventListener('click', () => {
                docTabBtn.classList.add('active', 'text-white');
                docTabBtn.classList.remove('text-gray-300');
                textTabBtn.classList.remove('active', 'text-white');
                textTabBtn.classList.add('text-gray-300');
                document.getElementById('docTranslationSection').classList.remove('hidden');
                document.getElementById('textTranslationSection').classList.add('hidden');
            });
        }

        document.getElementById('summarizeDocInput')?.addEventListener('change', async (event) => {
            const file = event.target.files[0]; if (!file) return;
            const nameDisplay = document.getElementById('summarizeDocNameDisplay');
            const statusDisplay = document.getElementById('summarizeDocExtractStatus');
            const textInput = document.getElementById('summarizeTextInput');
            nameDisplay.textContent = escapeHtml(file.name);
            statusDisplay.classList.remove('hidden'); textInput.value = ''; 
            try {
                textInput.value = await extractTextFromFile(file);
                showAlert('Document text extracted successfully!', 'success');
            } catch (err) {
                showAlert(`Error: ${err.message}`, 'error'); nameDisplay.textContent = ''; 
            } finally {
                statusDisplay.classList.add('hidden'); event.target.value = null; 
            }
        });
        
        document.getElementById('docFileInput')?.addEventListener('change', async (event) => {
            const file = event.target.files[0]; if (!file) return;
            const nameDisplay = document.getElementById('docFileNameDisplay');
            const statusDisplay = document.getElementById('docFileExtractStatus');
            const previewContainer = document.getElementById('docTextPreview');
            const previewDiv = previewContainer.querySelector('div');
            const translateBtn = document.getElementById('translateDocBtn');
            const outputContainer = document.getElementById('docTranslationOutput');
            nameDisplay.textContent = escapeHtml(file.name);
            statusDisplay.classList.remove('hidden');
            translateBtn.disabled = true; previewContainer.classList.add('hidden'); outputContainer.dataset.originalText = '';
            try {
                const text = await extractTextFromFile(file);
                outputContainer.dataset.originalText = text;
                previewDiv.textContent = text.substring(0, 500) + (text.length > 500 ? '...' : '');
                previewContainer.classList.remove('hidden'); translateBtn.disabled = false;
                showAlert('Document ready for translation!', 'success');
            } catch (err) {
                showAlert(`Error: ${err.message}`, 'error'); nameDisplay.textContent = '';
            } finally {
                statusDisplay.classList.add('hidden'); event.target.value = null;
            }
        });

        document.getElementById('translateDocBtn')?.addEventListener('click', async function() {
            if (!canUseFeature('translate', 'translate')) return;
            const outputContainer = document.getElementById('docTranslationOutput');
            const textToTranslate = outputContainer.dataset.originalText;
            if (!textToTranslate) return showAlert('No document text found. Please upload a file first.', 'error');
            this.disabled = true;
            document.getElementById('translateDocSpinner').classList.remove('hidden');
            outputContainer.innerHTML = `<p class="text-gray-400 text-sm">Translating document...</p>`;
            document.getElementById('copyDocBtn').classList.add('hidden');
            document.getElementById('downloadTranslationBtn').classList.add('hidden');
            try {
                const targetLangName = document.getElementById('docTargetLanguage').selectedOptions[0].text;
                const prompt = `Translate the following text to ${targetLangName}. Provide only the translated text, without any additional explanations or context.\n\nText:\n"""${textToTranslate}"""`;
                const translation = await callGeminiAPI(prompt);
                outputContainer.innerHTML = `<h3 class="text-sky-400 font-medium text-sm mb-2">Translated to ${escapeHtml(targetLangName)}:</h3><p class="text-white text-sm whitespace-pre-wrap">${escapeHtml(translation)}</p>`;
                outputContainer.dataset.translatedText = translation;
                document.getElementById('copyDocBtn').classList.remove('hidden');
                document.getElementById('downloadTranslationBtn').classList.remove('hidden');
                incrementFeatureUsage('translate');
            } catch (err) {
                outputContainer.innerHTML = `<p class="text-red-400 text-sm">Error: ${escapeHtml(err.message)}</p>`;
            } finally {
                this.disabled = false;
                document.getElementById('translateDocSpinner').classList.add('hidden');
            }
        });

        document.getElementById('copyTextBtn')?.addEventListener('click', () => {
            const textToCopy = document.getElementById('textOutput').querySelector('p.text-white')?.innerText;
            if (textToCopy) navigator.clipboard.writeText(textToCopy).then(() => showAlert('Copied to clipboard!', 'success'));
        });
        document.getElementById('copySummaryBtn')?.addEventListener('click', () => {
            const textToCopy = document.getElementById('summaryOutput').dataset.rawSummary;
            if (textToCopy) navigator.clipboard.writeText(textToCopy).then(() => showAlert('Copied to clipboard!', 'success'));
        });
        document.getElementById('copyDocBtn')?.addEventListener('click', () => {
            const textToCopy = document.getElementById('docTranslationOutput').dataset.translatedText;
            if (textToCopy) navigator.clipboard.writeText(textToCopy).then(() => showAlert('Copied to clipboard!', 'success'));
        });
        document.getElementById('downloadTranslationBtn')?.addEventListener('click', () => {
            const textToDownload = document.getElementById('docTranslationOutput').dataset.translatedText;
            const originalFilename = document.getElementById('docFileNameDisplay').textContent.split('.').slice(0, -1).join('.') || 'document';
            if (textToDownload) downloadContent(textToDownload, `${originalFilename}_translated.txt`);
        });
    }

    // --- MAIN EXECUTION ---
    document.addEventListener('DOMContentLoaded', () => {
        initializeEventListeners();

        supabaseClient.auth.onAuthStateChange(async (event, session) => {
            const user = session ? session.user : null;
            await loadCurrentUserProfile(user);
            updateAuthUI();
            resetInactivityTimer();

            // This block now correctly handles the initial page load logic
            if (event === 'INITIAL_SESSION') {
                const initialPageId = getCurrentPageIdFromUrl();
                if (initialPageId !== 'home') {
                    showPage(initialPageId, true);
                }
            } else if (event === 'SIGNED_IN') {
                const intendedPage = sessionStorage.getItem('intendedPage');
                const pendingPlanId = sessionStorage.getItem('pendingPlan');
                sessionStorage.removeItem('intendedPage');
                sessionStorage.removeItem('pendingPlan');
                if (pendingPlanId) {
                    initiatePayment(pendingPlanId);
                } else {
                    showPage(intendedPage || 'home');
                }
            } else if (event === 'SIGNED_OUT') {
                currentUser = null;
                updateAuthUI();
                showAlert('You have been signed out.', 'info');
                const currentPage = getCurrentPageIdFromUrl();
                const authRequiredPages = ['accountPage', 'paymentPage'];
                if (authRequiredPages.includes(currentPage)) {
                    showPage('home');
                }
            } else if (event === 'PASSWORD_RECOVERY') {
                showPage('resetPassword');
            }
        });
    });
  </script>
</body>
</html>
